<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>科定企業行動下單平台</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f3f4f6; /* Light gray background like HN Point */
            padding-bottom: 80px; /* Space for bottom nav */
        }
        
        /* Hide scrollbar for category list */
        .hide-scroll::-webkit-scrollbar {
            display: none;
        }
        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* KD Brand Colors */
        .text-kd { color: #003366; }
        .bg-kd { background-color: #003366; }
        .border-kd { border-color: #003366; }
        
        /* Product Card Shadow */
        .card-shadow {
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        /* Toast Animation */
        @keyframes slideUpFade {
            from { opacity: 0; transform: translate(-50%, 20px); }
            to { opacity: 1; transform: translate(-50%, 0); }
        }
        .toast-enter {
            animation: slideUpFade 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- 1. Header (Sticky) -->
    <header class="fixed top-0 left-0 right-0 bg-white shadow-sm z-50">
        <div class="flex items-center justify-between px-4 py-3">
            <!-- Logo Area -->
            <div class="flex items-center gap-2">
                <img src="商品圖片/KD_LOGO.png" alt="科定企業" class="h-8 w-auto">
            </div>
            
            <!-- Actions -->
            <div class="flex items-center gap-4">
                <button class="text-gray-600 text-xl"><i class="fas fa-search"></i></button>
                <div class="relative cursor-pointer" onclick="alert('進入購物車')">
                    <i class="fas fa-shopping-cart text-xl text-kd"></i>
                    <span id="cart-badge" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center border-2 border-white transform scale-0 transition-transform duration-200">0</span>
                </div>
            </div>
        </div>
        
        <!-- Search Bar (Optional, mimic HN Point style) -->
        <div class="px-4 pb-3">
            <div class="relative">
                <input type="text" placeholder="搜尋修補漆、黏著劑..." class="w-full bg-gray-100 border-none rounded-full py-2 pl-10 pr-4 text-sm focus:ring-2 focus:ring-blue-900 outline-none">
                <i class="fas fa-search absolute left-4 top-2.5 text-gray-400 text-sm"></i>
            </div>
        </div>
    </header>

    <!-- Spacer for Header -->
    <div class="h-[108px]"></div>

    <!-- 2. Banner Area -->
    <div class="px-4 py-3">
        <div class="w-full h-32 bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl flex items-center justify-between px-6 text-white shadow-lg relative overflow-hidden">
            <div class="z-10">
                <h2 class="text-lg font-bold mb-1">APP 下單享優惠</h2>
                <p class="text-sm text-gray-300">綜合材料 滿千免運</p>
                <button class="mt-2 bg-yellow-500 text-gray-900 text-xs font-bold px-3 py-1.5 rounded-full">立即選購</button>
            </div>
            <!-- Decorative Icon -->
            <i class="fas fa-tools text-6xl text-white opacity-10 absolute -right-2 -bottom-4"></i>
        </div>
    </div>

    <!-- 3. Category Tabs (Horizontal Scroll) -->
    <div class="bg-white py-2 shadow-sm sticky top-[108px] z-40">
        <div class="flex overflow-x-auto hide-scroll px-4 gap-3" id="category-container">
            <!-- Categories will be injected here -->
        </div>
    </div>

    <!-- 4. Product List -->
    <div class="px-3 py-4">
        <div class="flex items-center justify-between mb-3 px-1">
            <h3 class="font-bold text-gray-700 text-lg">熱門材料</h3>
            <span class="text-xs text-gray-500">共 <span id="product-count">0</span> 項商品</span>
        </div>

        <div class="grid grid-cols-2 gap-3" id="product-grid">
            <!-- Products will be injected here via JS -->
        </div>
        
        <!-- Loading Sentinel -->
        <div class="text-center py-6 text-gray-400 text-sm">
            沒有更多商品了
        </div>
    </div>

    <!-- 5. Bottom Navigation (Fixed) -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe z-50 h-[60px] flex justify-around items-center">
        <a href="#" class="flex flex-col items-center gap-1 text-kd w-1/5">
            <i class="fas fa-home text-lg"></i>
            <span class="text-[10px]">首頁</span>
        </a>
        <a href="#" class="flex flex-col items-center gap-1 text-gray-400 w-1/5 hover:text-kd">
            <i class="fas fa-th-large text-lg"></i>
            <span class="text-[10px]">分類</span>
        </a>
        
        <!-- Center Action Button (Orders) -->
        <a href="#" class="flex flex-col items-center gap-1 text-gray-400 w-1/5 hover:text-kd relative">
            <div class="absolute -top-6 bg-kd w-12 h-12 rounded-full border-4 border-gray-100 flex items-center justify-center text-white shadow-lg">
                <i class="fas fa-clipboard-list text-xl"></i>
            </div>
            <span class="text-[10px] mt-7">查訂單</span>
        </a>

        <a href="#" class="flex flex-col items-center gap-1 text-gray-400 w-1/5 hover:text-kd" onclick="alert('開啟業務對話視窗')">
            <i class="fas fa-comment-alt text-lg"></i>
            <span class="text-[10px]">聯絡業務</span>
        </a>
        <a href="#" class="flex flex-col items-center gap-1 text-gray-400 w-1/5 hover:text-kd">
            <i class="fas fa-user text-lg"></i>
            <span class="text-[10px]">會員</span>
        </a>
    </nav>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm shadow-lg hidden z-50 flex items-center gap-2">
        <i class="fas fa-check-circle text-green-400"></i>
        <span>已加入購物車</span>
    </div>

    <!-- Javascript -->
    <script>
        // Mock Data: KD Tools & Materials
        const products = [
            // 角線漆/蠟筆類別
            {
                id: 1,
                category: 'paint',
                name: '修邊筆',
                price: 60,
                originalPrice: null,
                image: '商品圖片/修邊筆.png',
                tag: '便攜'
            },
            {
                id: 2,
                category: 'paint',
                name: '修邊蠟筆',
                price: 85,
                originalPrice: null,
                image: '商品圖片/修邊蠟筆.png',
                tag: '熱銷'
            },
            {
                id: 3,
                category: 'paint',
                name: '角線漆(含修邊筆)',
                price: 170,
                originalPrice: null,
                image: '商品圖片/角線漆(含修邊筆).png',
                tag: '套組'
            },
            {
                id: 4,
                category: 'paint',
                name: '角線漆組(含修邊筆砂紙)',
                price: 240,
                originalPrice: null,
                image: '商品圖片/角線漆組(含修邊筆砂紙).png',
                tag: '完整套組'
            },
            // 強力膠類別
            {
                id: 5,
                category: 'glue',
                name: '噴膠-科定300(14.2KG-10桶)',
                price: 16000,
                originalPrice: null,
                image: '商品圖片/噴膠-科定300(14.2KG-10桶).png',
                tag: '批量優惠'
            },
            {
                id: 6,
                category: 'glue',
                name: '噴膠-科定300(14.2KG)',
                price: 1700,
                originalPrice: null,
                image: '商品圖片/噴膠-科定300(14.2KG).png',
                tag: '專業用'
            },
            {
                id: 7,
                category: 'glue',
                name: '噴膠-科定300(3KG)',
                price: 400,
                originalPrice: null,
                image: '商品圖片/噴膠-科定300(3KG).png',
                tag: '小包裝'
            },
            {
                id: 8,
                category: 'glue',
                name: '塗膠-科定305(14.2KG-10桶)',
                price: 16000,
                originalPrice: null,
                image: '商品圖片/塗膠-科定305(14.2KG-10桶).png',
                tag: '批量優惠'
            },
            {
                id: 9,
                category: 'glue',
                name: '塗膠-科定305(14.2KG)',
                price: 1700,
                originalPrice: null,
                image: '商品圖片/塗膠-科定305(14.2KG).png',
                tag: '專業用'
            }
        ];

        const categories = [
            { id: 'all', name: '全部商品' },
            { id: 'glue', name: '強力膠' },
            { id: 'paint', name: '角線漆/蠟筆' },
            { id: 'tools', name: '工具配件' },
            { id: 'materials', name: '裝修底材' }
        ];

        let currentCategory = 'all';
        let cartCount = 0;

        // Render Functions
        function renderCategories() {
            const container = document.getElementById('category-container');
            container.innerHTML = categories.map(cat => `
                <button 
                    onclick="filterCategory('${cat.id}')"
                    class="whitespace-nowrap px-4 py-1.5 rounded-full text-sm font-medium transition-colors duration-200 ${
                        currentCategory === cat.id 
                        ? 'bg-kd text-white shadow-md' 
                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                    }">
                    ${cat.name}
                </button>
            `).join('');
        }

        function renderProducts() {
            const grid = document.getElementById('product-grid');
            const countLabel = document.getElementById('product-count');
            
            const filtered = currentCategory === 'all' 
                ? products 
                : products.filter(p => p.category === currentCategory);
            
            countLabel.innerText = filtered.length;

            grid.innerHTML = filtered.map(product => `
                <div onclick="openProductDetail(${product.id})" class="bg-white rounded-lg card-shadow overflow-hidden flex flex-col h-full active:scale-[0.98] transition-transform duration-100 cursor-pointer">
                    <div class="relative w-full h-40 bg-gray-200 flex items-center justify-center overflow-hidden">
                        <!-- Real Product Image -->
                        <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover">
                        ${product.tag ? `<span class="absolute top-2 left-2 bg-red-500 text-white text-[10px] px-2 py-0.5 rounded shadow">${product.tag}</span>` : ''}
                    </div>
                    
                    <div class="p-3 flex flex-col flex-grow">
                        <h4 class="text-sm font-bold text-gray-800 line-clamp-2 leading-relaxed h-10 mb-1">${product.name}</h4>
                        
                        <div class="mt-auto">
                            <div class="flex items-baseline gap-2">
                                <span class="text-red-600 font-bold text-lg">NT$${product.price}</span>
                                ${product.originalPrice ? `<span class="text-xs text-gray-400 line-through">NT$${product.originalPrice}</span>` : ''}
                            </div>
                            
                            <button 
                                onclick="addToCart(this)"
                                class="w-full mt-3 bg-white border border-kd text-kd hover:bg-kd hover:text-white py-2 rounded font-medium text-sm transition-colors duration-200 flex items-center justify-center gap-1">
                                <i class="fas fa-cart-plus"></i>
                                加入購物車
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Logic Functions
        function filterCategory(catId) {
            currentCategory = catId;
            renderCategories();
            renderProducts();
        }

        function addToCart(btn) {
            // UI Feedback
            cartCount++;
            const badge = document.getElementById('cart-badge');
            badge.innerText = cartCount;
            badge.classList.remove('scale-0');
            
            // Button Animation
            const originalText = btn.innerHTML;
            btn.classList.add('bg-kd', 'text-white');
            btn.classList.remove('bg-white', 'text-kd');
            btn.innerHTML = '<i class="fas fa-check"></i> 已加入';
            
            setTimeout(() => {
                btn.classList.remove('bg-kd', 'text-white');
                btn.classList.add('bg-white', 'text-kd');
                btn.innerHTML = originalText;
            }, 1000);

            // Toast Notification
            showToast();
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('hidden');
            toast.classList.add('toast-enter');
            
            // Reset after 2 seconds
            setTimeout(() => {
                toast.classList.remove('toast-enter');
                toast.classList.add('hidden');
            }, 2000);
        }

        // Open product detail page
        function openProductDetail(productId) {
            window.location.href = `product-detail.html?id=${productId}`;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderCategories();
            renderProducts();
        });

    </script>
</body>
</html>